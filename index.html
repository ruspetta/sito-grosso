<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Mission Control – Secure Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet" />
<style>
  :root {
    --primary: #00ffea;
    --danger: #ff003c;
    --bg: #0d0d0d;
    --font: 'Share Tech Mono', monospace;
  }

  * { box-sizing: border-box; }

  html, body {
    margin: 0; padding: 0; height: 100%;
    background: var(--bg); color: var(--primary); font-family: var(--font);
  }

  #lockScreen {
    position: fixed; inset: 0;
    background: rgba(0, 0, 0, 0.96);
    backdrop-filter: blur(4px);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 1rem; z-index: 9999;
  }

  .glitch {
    position: relative; font-size: 2rem; letter-spacing: 0.15em;
  }
  .glitch::before, .glitch::after {
    content: attr(data-text); position: absolute; left: 0; top: 0;
    width: 100%; height: 100%; overflow: hidden;
  }
  .glitch::before {
    clip-path: polygon(0 0, 100% 0, 100% 38%);
    animation: glitchTop 1.3s infinite linear alternate-reverse;
  }
  .glitch::after {
    clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
    animation: glitchBottom 1.3s infinite linear alternate-reverse;
  }
  @keyframes glitchTop {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, -2px); }
    40% { transform: translate(2px, -2px); }
    60% { transform: translate(-2px, 2px); }
    80% { transform: translate(2px, 2px); }
    100% { transform: translate(0); }
  }
  @keyframes glitchBottom {
    0% { transform: translate(0); }
    20% { transform: translate(2px, -2px); }
    40% { transform: translate(-2px, 2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(-2px, -2px); }
    100% { transform: translate(0); }
  }

  input.pin {
    background: transparent; border: 2px solid var(--primary);
    color: var(--primary); padding: 0.6rem 1rem; font-size: 1.6rem;
    width: 11ch; text-align: center; letter-spacing: 0.4ch;
  }

  button.unlock {
    margin-top: 0.5rem; padding: 0.6rem 2.2rem;
    background: var(--primary); color: #000; border: none;
    font-size: 1rem; cursor: pointer; font-family: var(--font);
  }

  button.unlock:hover { opacity: 0.85; }

  #msg { height: 1.5rem; font-weight: bold; text-align: center; }

  .hidden { animation: fadeOut 1s forwards; }
  @keyframes fadeOut { to { opacity: 0; visibility: hidden; } }

  .shake { animation: shake 0.4s; }
  @keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-4px); }
    40%, 60% { transform: translateX(4px); }
  }

  main {
    padding: 2rem;
    max-width: 840px;
    margin: auto;
  }
  h1 { margin-top: 0; text-align: center; }
  article { margin-bottom: 2.4rem; }
  article h2 { color: var(--primary); margin-bottom: 0.5rem; }
  article p { color: #d2fff9; line-height: 1.65; }
</style>
</head>
<body>
  <div id="lockScreen">
    <div class="glitch" data-text="ACCESS REQUIRED">ACCESS REQUIRED</div>
    <input class="pin" id="pinInput" type="text" maxlength="6" autocomplete="one-time-code" placeholder="••••••" />
    <button class="unlock" id="unlockBtn">UNLOCK</button>
    <div id="msg"></div>
  </div>

  <!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISSION IMPOSSIBLE PETOI</title>
    <style>
        /* --- Stile Generale --- */
        body {
            background-color: #0d1a2f;
            color: #63a9d5;
            font-family: 'Share Tech Mono', 'Lucida Console', monospace;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* Effetto scanlines per look retro */
            background-image: linear-gradient(rgba(0,0,0,0.5) 50%, transparent 50%);
            background-size: 100% 4px;
        }

        /* --- Contenitore Principale --- */
        .container {
            width: 100%;
            max-width: 900px;
            border: 5px solid #2a5d84;
            background-color: #040c1a;
            padding: 100px;
            box-shadow: 0 0 20px rgba(127, 205, 255, 0.2);
            border-radius: 5px;
        }

        /* --- Titolo --- */
        h1 {
            background-color: #02060e;
            color: #9ac8de;
            text-align: center;
            padding: 10px;
            font-size: 1.8em;
            letter-spacing: 5px;
            margin: 0 0 40px 0;
            border: 1px solid #2a5d84;
            text-shadow: 0 0 5px #cceeff;
        }

        /* --- Menu di Navigazione --- */
        nav ul {
            display: flex;
            justify-content: space-around;
            padding: 0;
            margin: 0;
            list-style-type: none;
        }

        nav li {
            text-align: center;
        }

        /* --- NUOVA REGOLA per rendere i link non sottolineati --- */
        nav ul li a {
            text-decoration: none;
            display: block; /* Rende l'intera area cliccabile */
        }
        
        /* --- Stile dei Loghi nel Menu --- */
        .menu-logo {
            width: 120px;
            height: 120px;
            background-color: #1a3a5f;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            font-weight: bold;
            color: #0c1a2d;
            border: 4px solid #3c6c94;
            margin: 0 auto 10px auto;
            /* Effetto ombra interna per dare profondità */
            box-shadow: inset 0 0 15px rgba(0,0,0,0.5);
            text-shadow: 1px 1px 1px #6aace7, -1px -1px 1px #0a1f3a;
        }

        /* --- Stile delle Etichette nel Menu --- */
        .menu-label {
            background-color: #02060e;
            color: #80a3b8;
            padding: 8px 15px;
            border: 2px solid #3c6c94;
            letter-spacing: 2px;
            font-size: 0.9em;
            width: 120px;
            margin: 0 auto;
        }

        
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>

    <div class="container">
        <h1>MISSION IMPOSSIBLE PETOI</h1>
        
        <nav>
            <ul>
                <li>
                    <a href="chi-siamo.html">
                        <div class="menu-logo">MAST.</div>
                        <div class="menu-label">chi siamo</div>
                    </a>
                </li>
                <li class="active">
                    <a href="obiettivi.html">
                        <div class="menu-logo">MAST.</div>
                        <div class="menu-label">obiettivi</div>
                    </a>
                </li>
                <li>
                    <a href="tecnologie.html">
                        <div class="menu-logo">MAST.</div>
                        <div class="menu-label">tecnologie</div>
                    </a>
                </li>
                <li>
                    <a href="scene-realizzate.html">
                        <div class="menu-logo">MAST.</div>
                        <div class="menu-label">scene realizzate</div>
                    </a>
                </li>
                <li>
                    <a href="collaborazione.html">
                        <div class="menu-logo">MAST.</div>
                        <div class="menu-label">collaborazione</div>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

</body>
</html>

<script>
  const CORRECT_PIN = "Wgh7Yt";
  const lock = document.getElementById('lockScreen');
  const input = document.getElementById('pinInput');
  const btn   = document.getElementById('unlockBtn');
  const msg   = document.getElementById('msg');

  let isTyping = false;
  let lastLabel = null;

  function validate() {
    if (input.value === CORRECT_PIN) {
      msg.textContent = 'ACCESS GRANTED';
      msg.style.color = '#00ffea';
      lock.classList.add('hidden');
      setTimeout(() => { lock.style.display = 'none'; }, 1000);
    
    } else {
      msg.textContent = 'ACCESS DENIED';
      msg.style.color = 'var(--danger)';
      lock.classList.add('shake');
      setTimeout(() => lock.classList.remove('shake'), 400);
    }
  }

  btn.addEventListener('click', validate);
  input.addEventListener('keypress', e => { if (e.key === 'Enter') validate(); });

  function typeSlowly(text) {
    input.value = '';
    isTyping = true;
    let index = 0;

    const interval = setInterval(() => {
      input.value += text[index];
      index++;
      if (index >= text.length) {
        clearInterval(interval);
        msg.textContent = 'Codice inserito. Premi UNLOCK.';
        msg.style.color = '#00ffea';
        isTyping = false;
      }
    }, 1000);
  }

  async function fetchLabelFromDB() {
    if (isTyping) return;

    try {
      const res = await fetch('/api/predict-texts');
      const data = await res.json();

      if (Array.isArray(data) && data.length > 0) {
        const label = data[0].label;

        if (label && label !== lastLabel && /^[a-zA-Z0-9]{6}$/.test(label)) {
          lastLabel = label;
          typeSlowly(label);
        }
      }
    } catch (err) {
      console.error('Errore fetch:', err);
    }
  }

  // Avvia subito e ogni 5 secondi
  fetchLabelFromDB();
  setInterval(fetchLabelFromDB, 5000);
</script>

</body>
</html>
